{% extends 'App/base.html' %}

{% block content %}
{% load static %}
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="{% url 'gestione_home' %}">
        <img src="{% static 'img/aereo.png' %}" alt="" width="70" height="70" class="d-inline-block align-text-top">
        Starvato
    </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
        <div class="navbar-nav">
          <a class="nav-link active" aria-current="page" href="#">Home</a>
          <a class="nav-link" href="#">Features</a>
          <a class="nav-link" href="#">Pricing</a>
          <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
        </div>
      </div>
    </div>
  </nav>


    <table class="table mt-5">
        {% if obj == 'voli' %}
        <thead>
            <th>Codice</th>
            <th>Aeroporto di partenza</th>
            <th>Aeroporto di arrivo</th>
            <th>Prezzo unitario</th>
            <th>Ora di partenza</th>
            <th>Ora d'arrivo</th>
            <th>Data di partenza</th>
            <th>Data d'arrivo</th>
            <th>Km</th>
            <th>targa aereo</th>
        </thead>
        <tbody>
            {% for i in voli %}
            <tr>
                <td>{{i.codice}}</td>
                <td>{{i.aeroporto_partenza}}</td>
                <td>{{i.aeroporto_arrivo}}</td>
                <td>{{i.prezzo_unitario}} â‚¬</td>
                <td>{{i.ora_partenza}}</td>
                <td>{{i.ora_arrivo}}</td>
                <td>{{i.data_partenza}}</td>
                <td>{{i.data_arrivo}}</td>
                <td>{{i.km}}</td>
                <td>{{i.aereo.targa}}</td>
                <td><a href="{% url 'elimina_volo' i.id %}" class="btn btn-danger"><i class="bi bi-trash-fill"></i></a></td>
              </tr>
            {% endfor %}
        </tbody>
        {% elif obj == 'pren' %}
        <thead>
            <th>Codice</th>
            <th>Nome dell'utente</th>
            <th>Cognome dell'utente</th>
            <th>email dell'utente</th>
            <th>Telefono dell'utente</th>
            <th>Codice volo</th>
            <th>Posti prenotati</th>
        </thead>
        <tbody>
            {% for i in pren %}
            <tr>
                <td>{{i.id}}</td>
                <td>{{i.utente.nome}}</td>
                <td>{{i.utente.cognome}}</td>
                <td>{{i.utente.email}}</td>
                <td>{{i.utente.telefono}}</td>
                <td>{{i.volo.codice}}</td>
                <td>{{i.posti_prenotati}}</td>
                <td><a href="" class="btn btn-danger"><i class="bi bi-trash-fill"></i></a></td>
              </tr>
            {% endfor %}
        </tbody>
        {% elif obj == 'Aeroporti' %}
        <thead>
            <th>Codice</th>
            <th>Nome</th>
            <th>Descrizione</th>
            <th>Via</th>
            <th>Numero civico</th>
            <th>Stato</th>
            <th>Citta</th>
            <th>Provincia</th>
        </thead>
        <tbody>
            {% for i in pren %}
            <tr>
                <td>{{i.codice}}</td>
                <td>{{i.nome}}</td>
                <td>{{i.descrizione}}</td>
                <td>{{i.indirizzo.via}}</td>
                <td>{{i.indirizzo.numero}}</td>
                <td>{{i.indirizzo.stato}}</td>
                <td>{{i.indirizzo.citta}}</td>
                <td>{{i.indirizzo.provincia}}</td>
                <td><a href="" class="btn btn-danger"><i class="bi bi-trash-fill"></i></a></td>
              </tr>
            {% endfor %}
        </tbody>
        {% endif %}
    </table>

{% endblock %}